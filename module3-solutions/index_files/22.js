(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"+ICj":function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("iCc5")),i,a=_interopRequireDefault(e("FYw3")),n,s=_interopRequireDefault(e("mRg0")),o,l,u,d=_interopRequireWildcard(e("sbe7")),c,m=_interopRequireDefault(e("8cuT")),p,f=_interopRequireDefault(e("VYij")),v,b=_interopRequireDefault(e("Akn8")),h,g=_interopRequireDefault(e("LnHh")),S=e("nLAy"),R,w=_interopRequireDefault(e("bnPc")),P,E=_interopRequireDefault(e("TTO7")),y,D=_interopRequireDefault(e("L1vm")),I,O=_interopRequireDefault(e("dAof")),q,x=_interopRequireDefault(e("jsrg")),N,A=_interopRequireDefault(e("JkvR")),M,C=_interopRequireDefault(e("yhVA")),T,F=_interopRequireDefault(e("sQ/U"));function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var k=(l=o=function(e){function PeerItemReviewNext(t,i){(0,r.default)(this,PeerItemReviewNext);var n=(0,a.default)(this,e.call(this,t,i));return n.handleReviewChange=function(e){return function(t){n.context.executeAction(g.default.localUpdateReview,{reviewSchemaPartId:e,change:t,submissionId:n.props.submissionId})}},n.handleReviewSubmit=function(){var e=n.props,t=e.computedItem,r=e.reviewSubmissionState,i=e.submissionId,a=e.courseId;n.setState({loadNextSubmission:!0}),r&&r.review&&n.context.executeAction(g.default.submit,{itemId:t.id,review:r.review,submissionId:i,userId:F.default.get().id,courseId:a})},n.state={loadNextSubmission:!1},n}return(0,s.default)(PeerItemReviewNext,e),PeerItemReviewNext.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props,r=t.computedItem,i=t.courseId,a;e.reviewSubmissionState&&"submitted"===e.reviewSubmissionState.submitState&&this.state.loadNextSubmission?(this.setState({loadNextSubmission:!1}),this.context.executeAction(S.loadNextReviewQueueSubmission,{userId:F.default.get().id,courseId:i,itemId:r.id})):"loading"===this.props.loadState&&"none"===e.loadState&&this.context.router.push(b.default.join(r.resourcePath,"give-feedback"))},PeerItemReviewNext.prototype.render=function render(){var e=this.props,t=e.loadState,r=e.submissionAndRelated,i=e.canReviewOthers,a=e.naptimeSubmission,n=e.naptimeSubmissionSchema,s=e.computedItem,o=e.courseId;if(!i)return d.createElement(E.default,{computedItem:s});if("loading"===t||"none"===t)return d.createElement("p",null,(0,C.default)("Loading..."));if("loadError"===t)return d.createElement("p",null,(0,C.default)("Error loading submission."));if("loaded"===t&&null!=r){var l=this.props,u=l.reviewSubmissionState,c=l.flaggedPreviousSubmission;return d.createElement(w.default,{courseId:o,computedItem:s,submission:r.submission,submissionSchema:r.submissionSchema,naptimeSubmission:a,naptimeSubmissionSchema:n,reviewSubmissionState:u,createdAt:r.submission.createdAt,creatorProfile:r.userProfiles[0],onReviewChange:this.handleReviewChange,onReviewSubmit:this.handleReviewSubmit,flaggedPreviousSubmission:c,isAdminMode:!1,isDeleted:r.isDeleted,votes:r.votes})}return null},PeerItemReviewNext}(d.Component),o.contextTypes={executeAction:d.PropTypes.func.isRequired,router:d.PropTypes.object.isRequired},l),V=function fluxibleContextConnector(e,t){var r=t.computedItem,i=t.courseId,a=t.canReviewOthers,n=t.isOwnSubmission,s=t.loadState;a&&(n||"loaded"!==s)&&e.executeAction(S.loadNextReviewQueueSubmission,{userId:F.default.get().id,courseId:i,itemId:r.id})},W=f.default.compose(D.default.createTrackedContainer(function(){return{namespace:{page:"peer_review_review_peers_detail"}}}),(0,m.default)(["PeerViewSubmissionStore","PeerPermissionsAndProgressesStore"],function(e,t){var r=e.PeerViewSubmissionStore,i=e.PeerPermissionsAndProgressesStore;return{loadState:r.getState().loadState,havePermissionsLoaded:"loaded"===i.getState().loadState,reviewSubmissionState:r.getState().reviewSubmissionState,submissionAndRelated:r.getState().submissionAndRelated,naptimeSubmission:r.getState().naptimeSubmission,naptimeSubmissionSchema:r.getState().naptimeSubmissionSchema,submissionId:r.getState().submissionId,flaggedPreviousSubmission:r.getState().flaggedPreviousSubmission,canReviewOthers:(0,f.default)(i.getState().capabilities||[]).contains("reviewPeers"),isOwnSubmission:r.getState().isOwnSubmission}}),(0,x.default)(function(e){return e.havePermissionsLoaded},d.createElement(A.default,{className:"rc-PeerItemReviewNext"})),(0,O.default)(V))(k);module.exports=W,module.exports.comp=k,module.exports.fluxibleContextConnector=V},"0Lal":function(module,exports,e){var t=e("XXrs"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var i={transform:void 0},a=e("aET+")(t,i);t.locals&&(module.exports=t.locals)},"0UBe":function(module,exports,e){var t=e("Lito"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var i={transform:void 0},a=e("aET+")(t,i);t.locals&&(module.exports=t.locals)},"2dz7":function(module,exports,e){var t=e("7kv3"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var i={transform:void 0},a=e("aET+")(t,i);t.locals&&(module.exports=t.locals)},"3v1K":function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("iCc5")),i,a=_interopRequireDefault(e("FYw3")),n,s=_interopRequireDefault(e("mRg0")),o,l,u,d=_interopRequireDefault(e("sbe7")),c,m=_interopRequireDefault(e("37kS")),p=e("Zihe"),f,v=_interopRequireDefault(e("YeA8")),b,h=_interopRequireDefault(e("Txc6")),g=e("kvW3"),S,R=_interopRequireDefault(e("Akn8")),w,P=_interopRequireDefault(e("sMNq")),E,y=_interopRequireDefault(e("7PCW")),D=e("4R3V");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}e("DnT3");var I=(l=o=function(e){function PeerReviewAdminMessage(t,i){(0,r.default)(this,PeerReviewAdminMessage);var n=(0,a.default)(this,e.call(this,t,i));return n.handleDeleteSubmission=function(){n.setState({isSubmissionDeleted:!0})},n.showOverrideTool=function(){n.setState({showOverrideTool:!0})},n.hideOverrideTool=function(){n.setState({showOverrideTool:!1})},n.showDeletionConfirm=function(){n.setState({showDeletionConfirm:!0})},n.hideDeletionConfirm=function(){n.setState({showDeletionConfirm:!1})},n.submitOverride=function(e,t,r){var i=n.props,a=i.computedItem,s=i.courseId;"loaded"===n.state.gradeOverrideDataState&&e>=0&&e<=100&&(n.setState({gradeOverrideDataState:"submittingOverride",gradeOverrideSubmittedOverride:{grade:e,isPassed:t,explanation:r}}),P.default.updateOverride({learnerId:n.props.learnerId,courseId:s,itemId:a.id,grade:e/100,isPassed:t,explanation:r}).then(function(){n.setState({gradeOverrideDataState:"loaded",gradeOverride:{grade:e,isPassed:t,explanation:r},gradeOverrideSubmittedOverride:null,showOverrideTool:!1})}).catch(function(){n.setState({gradeOverrideDataState:"error",gradeOverrideSubmittedOverride:null})}))},n.removeOverride=function(){var e=n.props,t=e.computedItem,r=e.courseId;n.setState({gradeOverrideDataState:"removingOverride"}),P.default.removeOverride({learnerId:n.props.learnerId,courseId:r,itemId:t.id}).then(function(){n.setState({gradeOverrideDataState:"loaded",gradeOverride:null,showOverrideTool:!1})}).catch(function(){n.setState({gradeOverrideDataState:"error"})})},n.state={showOverrideTool:!1,showDeletionConfirm:!1,isSubmissionDeleted:t.isDeleted,gradeOverrideDataState:"idle",gradeOverride:null,gradeOverrideSubmittedOverride:null},n}return(0,s.default)(PeerReviewAdminMessage,e),PeerReviewAdminMessage.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.props,r=t.computedItem,i=t.learnerId,a=t.courseId;this.setState({gradeOverrideDataState:"loading"}),P.default.getOverride({learnerId:i,courseId:a,itemId:r.id}).then(function(t){var r=t.elements[0],i=t.linked["userPublicProfiles.v1"][0],a=i&&i.fullName?i.fullName:"Anonymous";e.setState({gradeOverrideDataState:"loaded",gradeOverride:{grade:100*r.grade,isPassed:r.isPassed,explanation:r.explanation,overriderName:a}})}).catch(function(t){404===t.status?e.setState({gradeOverrideDataState:"loaded"}):e.setState({gradeOverrideDataState:"error"})})},PeerReviewAdminMessage.prototype.renderGradeOverriddenMessage=function renderGradeOverriddenMessage(e){var t=(0,m.default)("The grade for this submission has been adjusted to be passing at {gradePercent}\n        by {overriderName}."),r=(0,m.default)("The grade for this submission has been adjusted to be not passing at {gradePercent}\n        by {overriderName}.");return d.default.createElement("strong",null,d.default.createElement(g.FormattedMessage,{message:e.isPassed?t:r,gradePercent:d.default.createElement(g.FormattedNumber,{value:e.grade/100,style:"percent"}),overriderName:e.overriderName}))},PeerReviewAdminMessage.prototype.renderOverrideMessage=function renderOverrideMessage(e,t){var r=this,i=(0,m.default)("adjust the grade"),a=(0,m.default)("adjust the grade again"),n=function renderOverrideToolLink(e){return d.default.createElement("span",{className:"admin-action",onClick:r.showOverrideTool},e)},s=d.default.createElement("span",{className:"admin-action",onClick:this.showDeletionConfirm},(0,m.default)("delete the submission"));return e?t?d.default.createElement("div",null,this.renderGradeOverriddenMessage(e)," ","",(0,m.default)("You may")," ",n(a),"."):d.default.createElement("div",null,this.renderGradeOverriddenMessage(e)," ","",(0,m.default)("You may")," ",n(a)," ","or"," ","",s,"."):t?d.default.createElement("div",null,(0,m.default)("Even though it has been deleted, as an administrator, you may")," ","",n(i)," ",(0,m.default)("attributed to it"),"."):d.default.createElement("div",null,(0,m.default)("As an administrator, you may")," ","",n(i)," or ",s,".")},PeerReviewAdminMessage.prototype.renderAdminBox=function renderAdminBox(e){var t=d.default.createElement("div",null,d.default.createElement("span",{className:"bold-text"},(0,m.default)("This submission was deleted. It is not available for other learners to review."))),r=this.context.router.location.pathname,i=R.default.join(r.split("/").slice(0,-1)),a=d.default.createElement("div",null,(0,m.default)("To leave a review"),", ","",d.default.createElement(p.Link,{to:i},(0,m.default)("view this submission as a learner")),".");switch(this.state.gradeOverrideDataState){case"idle":case"loading":return d.default.createElement("div",null,(0,m.default)("Loading..."));case"error":return d.default.createElement("div",null,(0,m.default)("Error loading grade override information."));default:return d.default.createElement("div",null,this.state.isSubmissionDeleted&&t,this.renderOverrideMessage(e,this.state.isSubmissionDeleted),!this.state.isSubmissionDeleted&&a)}},PeerReviewAdminMessage.prototype.render=function render(){var e=this.props,t=e.computedItem,r=e.courseId,i="submittingOverride"===this.state.gradeOverrideDataState?this.state.gradeOverrideSubmittedOverride:this.state.gradeOverride;return d.default.createElement("div",{className:"rc-PeerReviewAdminMessage bt3-alert"},d.default.createElement("div",{className:"horizontal-box"},d.default.createElement("div",{className:"kss-modifier--icon admin-warning-outer"},d.default.createElement("span",{className:"cif-warning admin-warning"})),d.default.createElement("div",{className:"flex-1"},this.renderAdminBox(i))),this.state.showOverrideTool&&d.default.createElement(v.default,{handleClose:this.hideOverrideTool,gradeOverrideDataState:this.state.gradeOverrideDataState,gradeOverride:i,submitOverride:this.submitOverride,removeOverride:this.removeOverride}),this.state.showDeletionConfirm&&d.default.createElement(h.default,{courseId:r,handleClose:this.hideDeletionConfirm,computedItem:t,submissionId:this.props.submissionId,handleDeleteSubmission:this.handleDeleteSubmission}))},PeerReviewAdminMessage}(d.default.Component),o.propTypes={courseId:d.default.PropTypes.string.isRequired,computedItem:d.default.PropTypes.object.isRequired,isDeleted:d.default.PropTypes.bool,submissionId:d.default.PropTypes.string.isRequired,learnerId:d.default.PropTypes.number},o.contextTypes={router:d.default.PropTypes.object.isRequired},l);module.exports=function(e){function PeerReviewAdminMessageWithPermissions(){return(0,r.default)(this,PeerReviewAdminMessageWithPermissions),(0,a.default)(this,e.apply(this,arguments))}return(0,s.default)(PeerReviewAdminMessageWithPermissions,e),PeerReviewAdminMessageWithPermissions.prototype.render=function render(){return d.default.createElement(y.default,{requestedCapability:D.PeerAdminCapabilities.doAdministrativeAction},d.default.createElement(I,this.props))},PeerReviewAdminMessageWithPermissions}(d.default.Component)},"6uSU":function(module,exports,e){},"7kv3":function(module,exports,e){},"8BDU":function(module,exports,e){},"9YIH":function(module,exports,e){},AMJS:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("iCc5")),i,a=_interopRequireDefault(e("FYw3")),n,s=_interopRequireDefault(e("mRg0")),o,l,u,d=_interopRequireDefault(e("sbe7")),c,m=_interopRequireDefault(e("MXD1")),p,f=_interopRequireDefault(e("2O/4")),v=e("6gRZ"),b,h=_interopRequireDefault(e("yhVA"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}e("2dz7");var g=(l=o=function(e){function AdminViewGradeOverride(t){(0,r.default)(this,AdminViewGradeOverride);var i=(0,a.default)(this,e.call(this,t));if(i.handleGradeInputChange=function(e){i.setState({grade:e})},i.handleIsPassedChange=function(e){i.setState({isPassed:"Yes"===e.target.value})},i.handleExplanationChange=function(e){i.setState({isForPlagiarism:"Plagiarism"===e.target.value})},i.handleCustomExplanationChange=function(e){i.setState({customExplanation:e.target.value})},i.submitOverride=function(){var e=i.state.isForPlagiarism?"Plagiarism":i.state.customExplanation;i.props.submitOverride(i.state.grade,i.state.isPassed,e)},i.props.gradeOverride){var n="Plagiarism"===i.props.gradeOverride.explanation,s=n?"":i.props.gradeOverride.explanation;i.state={grade:i.props.gradeOverride.grade,isPassed:i.props.gradeOverride.isPassed,isForPlagiarism:n,customExplanation:s}}else i.state={grade:0,isPassed:!1,isForPlagiarism:!0,customExplanation:""};return i}return(0,s.default)(AdminViewGradeOverride,e),AdminViewGradeOverride.prototype.isInputEnabled=function isInputEnabled(){return"loaded"===this.props.gradeOverrideDataState},AdminViewGradeOverride.prototype.renderNoteForPlagiarism=function renderNoteForPlagiarism(){return d.default.createElement("div",{className:"details"},d.default.createElement("div",{className:"learners-note"},(0,h.default)("Learners will see this message:")),d.default.createElement(f.default,null))},AdminViewGradeOverride.prototype.renderNoteForOtherReason=function renderNoteForOtherReason(){var e=!this.isInputEnabled();return d.default.createElement("div",{className:"details"},d.default.createElement("div",{className:"learners-note"},(0,h.default)("Learners will see this message:")),d.default.createElement("div",null,d.default.createElement("textarea",{className:"explanation",onChange:this.handleCustomExplanationChange,disabled:e,value:this.state.customExplanation})))},AdminViewGradeOverride.prototype.renderMainContent=function renderMainContent(){var e=d.default.createElement(v.Tooltip,{className:"rc-AdminViewGradeOverride-button-revert-tooltip"},(0,h.default)("Restore original grade. Any admin overrides will be removed.")),t=!this.isInputEnabled();return d.default.createElement("div",{className:"authoring-type"},d.default.createElement("div",{className:"horizontal-box input-row"},d.default.createElement("div",{className:"input-label"},(0,h.default)("Score")),d.default.createElement("div",{className:"flex-1"},d.default.createElement(m.default,{initialValue:this.state.grade,min:0,max:100,width:50,height:35,allowDecimal:!1,allowNegative:!1,onChange:this.handleGradeInputChange,disabled:t}),"%",(this.state.grade<0||this.state.grade>100)&&d.default.createElement("span",{className:"alertMessageMargin"},(0,h.default)("Grade needs to be a number in between 0 and 100, inclusive.")))),d.default.createElement("div",{className:"horizontal-box input-row"},d.default.createElement("div",{className:"input-label"},(0,h.default)("Passed?:")),d.default.createElement("div",{className:"flex-1"},d.default.createElement("div",{className:"horizontal-box"},d.default.createElement("input",{id:"rc-AdminViewGradeOverride-yes",name:"isPassed",type:"radio",value:"Yes",className:"option-radio",onChange:this.handleIsPassedChange,checked:this.state.isPassed,disabled:t}),d.default.createElement("label",{htmlFor:"rc-AdminViewGradeOverride-yes",className:"label-radio"}),d.default.createElement("div",{className:"radioPadding flex-1"},(0,h.default)("Yes"))),d.default.createElement("div",{className:"horizontal-box"},d.default.createElement("input",{id:"rc-AdminViewGradeOverride-no",name:"isPassed",type:"radio",value:"No",className:"option-radio",onChange:this.handleIsPassedChange,checked:!this.state.isPassed,disabled:t}),d.default.createElement("label",{htmlFor:"rc-AdminViewGradeOverride-no",className:"label-radio"}),d.default.createElement("div",{className:"radioPadding flex-1"},(0,h.default)("No"))))),d.default.createElement("div",{className:"horizontal-box input-row"},d.default.createElement("div",{className:"input-label"},(0,h.default)("Reason:")),d.default.createElement("div",{className:"flex-1"},d.default.createElement("div",{className:"horizontal-box"},d.default.createElement("input",{id:"rc-AdminViewGradeOverride-plagiarism",name:"explanation",type:"radio",value:"Plagiarism",className:"option-radio",onChange:this.handleExplanationChange,checked:this.state.isForPlagiarism,disabled:t}),d.default.createElement("label",{htmlFor:"rc-AdminViewGradeOverride-plagiarism",className:"label-radio"}),d.default.createElement("div",{className:"radioPadding flex-1"},d.default.createElement("span",null,(0,h.default)("Plagiarism")),this.state.isForPlagiarism&&this.renderNoteForPlagiarism())),d.default.createElement("div",{className:"horizontal-box"},d.default.createElement("input",{id:"rc-AdminViewGradeOverride-other",name:"explanation",type:"radio",value:"Other",className:"option-radio",onChange:this.handleExplanationChange,checked:!this.state.isForPlagiarism,disabled:t}),d.default.createElement("label",{htmlFor:"rc-AdminViewGradeOverride-other",className:"label-radio"}),d.default.createElement("div",{className:"radioPadding flex-1"},d.default.createElement("span",null,(0,h.default)("Other")),!this.state.isForPlagiarism&&this.renderNoteForOtherReason())))),d.default.createElement("div",{className:"horizontal-box align-items-right"},!!this.props.gradeOverride&&d.default.createElement(v.OverlayTrigger,{placement:"bottom",overlay:e,delayShow:0},d.default.createElement("button",{className:"bt3-btn",onClick:this.props.removeOverride,disabled:t},"removingOverride"===this.props.gradeOverrideDataState?(0,h.default)("Reverting..."):(0,h.default)("Revert"))),d.default.createElement("div",{className:"horizontal-box flex-1 align-items-right"},d.default.createElement("button",{className:"bt3-btn bt3-btn-primary button-save",onClick:this.submitOverride,disabled:t},"submittingOverride"===this.props.gradeOverrideDataState?(0,h.default)("Saving..."):(0,h.default)("Save")))),d.default.createElement("div",{className:"horizontal-box align-items-right"},"error"===this.props.gradeOverrideDataState&&d.default.createElement("span",null,(0,h.default)("Problem connecting to server. Try again later."))))},AdminViewGradeOverride.prototype.render=function render(){return d.default.createElement("div",{className:"rc-AdminViewGradeOverride"},d.default.createElement("h3",null,(0,h.default)("Override Grade")),this.state.loadingData&&d.default.createElement("div",null,(0,h.default)("Loading"),"..."),!this.state.loadingData&&this.renderMainContent())},AdminViewGradeOverride}(d.default.Component),o.propTypes={gradeOverrideDataState:d.default.PropTypes.string.isRequired,gradeOverride:d.default.PropTypes.object,submitOverride:d.default.PropTypes.func,removeOverride:d.default.PropTypes.func},l);module.exports=g},DnT3:function(module,exports,e){var t=e("9YIH"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var i={transform:void 0},a=e("aET+")(t,i);t.locals&&(module.exports=t.locals)},HnmP:function(module,exports,e){},JdPj:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("iCc5")),i,a=_interopRequireDefault(e("FYw3")),n,s=_interopRequireDefault(e("mRg0")),o,l,u,d=_interopRequireWildcard(e("sbe7")),c,m=_interopRequireDefault(e("8cuT")),p,f=_interopRequireDefault(e("VYij")),v,b=_interopRequireDefault(e("cBJM")),h,g=_interopRequireDefault(e("LcDL")),S,R=_interopRequireDefault(e("nLAy"));function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var w=(l=o=function(e){function PeerSubmissionFlagger(t,i){(0,r.default)(this,PeerSubmissionFlagger);var n=(0,a.default)(this,e.call(this,t,i));return n.onClickButton=function(){n.setState({isModalOpen:!0})},n.onCloseModal=function(){n.setState({isModalOpen:!1})},n.onReportSubmission=function(e){var t=n.props,r=t.computedItem.id,i=t.courseId,a=t.submissionId;n.context.executeAction(R.default.flagSubmission,{itemId:r,courseId:i,submissionId:a,report:e})},n.state={isModalOpen:!1},n}return(0,s.default)(PeerSubmissionFlagger,e),PeerSubmissionFlagger.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){"flagging"===this.props.flagSubmissionState&&"flagged"===e.flagSubmissionState&&this.onCloseModal()},PeerSubmissionFlagger.prototype.render=function render(){return d.createElement("div",{className:"rc-PeerSubmissionFlagger",style:{float:"right",paddingLeft:"8px"}},d.createElement(g.default,{onClick:this.onClickButton}),this.state.isModalOpen&&d.createElement(b.default,{onReportSubmission:this.onReportSubmission,onClose:this.onCloseModal,flagSubmissionState:this.props.flagSubmissionState,error:this.props.flagSubmissionError}))},PeerSubmissionFlagger}(d.Component),o.contextTypes={executeAction:d.PropTypes.func.isRequired},l);module.exports=f.default.compose((0,m.default)(["PeerViewSubmissionStore"],function(e){var t=e.PeerViewSubmissionStore;return{flagSubmissionState:t.getState().flagSubmissionState,flagSubmissionError:t.getState().flagSubmissionError}}))(w)},"K/Ms":function(module,exports,e){},LcDL:function(module,exports,e){"use strict";var t,r=_interopRequireWildcard(e("sbe7")),i,a=_interopRequireDefault(e("y1LI")),n,s=_interopRequireDefault(e("yhVA"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var o=function SubmissionFlaggerButton(e){var t=e.onClick;return r.createElement("button",{className:"rc-SubmissionFlaggerButton button-link",onClick:t},r.createElement("span",{className:"caption-text"},r.createElement(a.default,{name:"flag-o"}),r.createElement("span",{style:{paddingLeft:8}},(0,s.default)("Flag this submission"))))};module.exports=o},Lito:function(module,exports,e){},LnHh:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("lvQJ")),i=e("vpeK"),a=e("oucI");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var n=function onSubmitSuccess(e,t,r,n){return function(){e.executeAction(i.getProgress,{courseId:n,refreshProgress:!0}),e.dispatch(a.ActionNames.REVIEW_SUBMISSION_SUBMITTED,{submissionId:t})}},s=function onSubmitFailure(e,t){return function(r){var i=r.responseJSON||{};if("InvalidReview"===i.errorCode)e.dispatch(a.ActionNames.REVIEW_SUBMISSION_SUBMIT_ERROR,{submissionId:t,errorType:"invalid-review",reviewValidationErrors:i.details});else if("ReviewExists"===i.errorCode)e.dispatch(a.ActionNames.REVIEW_SUBMISSION_SUBMIT_ERROR,{submissionId:t,errorType:"review-exists"});else if(e.dispatch(a.ActionNames.REVIEW_SUBMISSION_SUBMIT_ERROR,{submissionId:t,errorType:"unknown"}),!r.responseJSON)throw r}};exports.submit=function(e,t){var i=t.itemId,o=t.submissionId,l=t.review,u=t.userId,d=t.courseId;return e.dispatch(a.ActionNames.REVIEW_SUBMISSION_SUBMITTING,{submissionId:o}),r.default.createReview(d,i,o,l).then(n(e,o,u,d)).catch(s(e,o))},exports.localUpdateReview=function(e,t){var r=t.submissionId,i=t.reviewSchemaPartId,n=t.change;e.dispatch(a.ActionNames.REVIEW_SUBMISSION_LOCAL_UPDATE_REVIEW,{submissionId:r,reviewSchemaPartId:i,change:n})}},LzTH:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("iCc5")),i,a=_interopRequireDefault(e("FYw3")),n,s=_interopRequireDefault(e("mRg0")),o,l=_interopRequireWildcard(e("sbe7")),u,d=_interopRequireDefault(e("0xvN")),c,m=_interopRequireDefault(e("SXF+")),p,f=_interopRequireDefault(e("JdPj")),v,b=_interopRequireDefault(e("tapA")),h,g=_interopRequireDefault(e("UjVa")),S,R=_interopRequireDefault(e("sQ/U")),w,P=_interopRequireDefault(e("8cuT"));function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function SubmissionHeader(){return(0,r.default)(this,SubmissionHeader),(0,a.default)(this,e.apply(this,arguments))}return(0,s.default)(SubmissionHeader,e),SubmissionHeader.prototype.render=function render(){var e=this.props,t=e.isAdminMode,r=e.computedItem,i=e.submission,a=e.creatorProfile,n=e.votes,s=e.courseId,o=a.userId,u;return R.default.get().id===o?l.createElement(d.default,{title:i.definition.title,createdAt:i.createdAt,shareableLink:l.createElement(g.default,{computedItem:r,submissionId:i.id})}):l.createElement(m.default,{isAdminMode:t,title:i.definition.title,createdAt:i.createdAt,creatorProfile:a,submissionId:i.id,reviewMetadata:l.createElement("div",null,l.createElement(f.default,{courseId:s,computedItem:r,submissionId:i.id}),l.createElement(b.default,{courseId:s,computedItem:r,submissionId:i.id,votes:n}))})},SubmissionHeader}(l.Component);module.exports=(0,P.default)(["CourseStore"],function(e){var t;return{courseId:e.CourseStore.getCourseId()}})(E)},"SXF+":function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("iCc5")),i,a=_interopRequireDefault(e("FYw3")),n,s=_interopRequireDefault(e("mRg0")),o,l,u,d=_interopRequireWildcard(e("sbe7")),c,m=_interopRequireDefault(e("BN6r")),p,f=_interopRequireDefault(e("at5l")),v,b=_interopRequireDefault(e("xJs7")),h=e("kvW3"),g=e("0jv7"),S,R=_interopRequireDefault(e("yhVA"));function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}e("b3MV");var w=(l=o=function(e){function PeerSubmissionHeader(){return(0,r.default)(this,PeerSubmissionHeader),(0,a.default)(this,e.apply(this,arguments))}return(0,s.default)(PeerSubmissionHeader,e),PeerSubmissionHeader.prototype.render=function render(){var e=this.props,t=e.isAdminMode,r=e.title,i=e.createdAt,a=e.creatorProfile,n=e.submissionId,s=a.photoUrl||g.defaultPhotoUrl;return d.createElement("div",{className:"rc-PeerSubmissionHeader bt3-clearfix"},!t&&d.createElement("div",{className:"bt3-pull-right"},d.createElement(b.default,{submissionId:n})),d.createElement("div",{className:"headline-4-text"},r),d.createElement("div",{className:"author-container horizontal-box"},d.createElement(f.default,{alt:(0,R.default)("Photo of learner"),src:s}),d.createElement("div",{className:"metadata-area"},d.createElement("div",null,d.createElement(h.FormattedMessage,{className:"display-1-text",message:(0,R.default)("by {creatorName}"),creatorName:a.fullName})),d.createElement("div",null,d.createElement("span",{className:"caption-text color-secondary-text"},(0,m.default)(i).format("LL")),t&&d.createElement("span",{className:"caption-text color-secondary-text",style:{marginLeft:12}},d.createElement(h.FormattedMessage,{className:"caption-text color-secondary-text",message:(0,R.default)("User Id: {userId}"),userId:a.userId})))),d.createElement("div",{className:"actions-area align-right align-self-end flex-1"},this.props.reviewMetadata)))},PeerSubmissionHeader}(d.Component),o.propTypes={isAdminMode:d.PropTypes.bool.isRequired,title:d.PropTypes.string.isRequired,createdAt:d.PropTypes.number.isRequired,creatorProfile:d.PropTypes.object.isRequired,submissionId:d.PropTypes.string.isRequired,reviewMetadata:d.PropTypes.node.isRequired},l);module.exports=w},Txc6:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("iCc5")),i,a=_interopRequireDefault(e("FYw3")),n,s=_interopRequireDefault(e("mRg0")),o,l=_interopRequireWildcard(e("sbe7")),u,d=_interopRequireDefault(e("CQyo")),c,m=_interopRequireDefault(e("yhVA")),p,f=_interopRequireDefault(e("sQ/U")),v,b=_interopRequireDefault(e("Xl8Z"));function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}e("gvD1");var h=function(e){function AdminDeletionConfirmModal(){var t,i,n;(0,r.default)(this,AdminDeletionConfirmModal);for(var s=arguments.length,o=Array(s),l=0;l<s;l++)o[l]=arguments[l];return t=i=(0,a.default)(this,e.call.apply(e,[this].concat(o))),i.state={deleting:!1,deletionFailed:!1},i.handleRemoveGradeOverride=function(){i.setState({deleting:!0,deletionFailed:!1});var e=i.props,t=e.computedItem,r=e.courseId,a=e.submissionId,n;b.default.deleteSubmission({userId:f.default.get().id,itemId:t.id,courseId:r,submissionId:a}).then(function(e){i.props.handleDeleteSubmission(),i.props.handleClose()}).catch(function(e,t,r){i.setState({deletionFailed:!0,deleting:!1})})},n=t,(0,a.default)(i,n)}return(0,s.default)(AdminDeletionConfirmModal,e),AdminDeletionConfirmModal.prototype.render=function render(){return l.createElement(d.default,{className:"rc-AdminDeletionConfirmModal",allowClose:!0,modalName:"AdminDeletionConfirmModal",type:"box",handleClose:this.props.handleClose},l.createElement("div",{className:"browser-alert-container horizontal-box align-items-absolute-center"},l.createElement("div",{className:"browser-alert"},(0,m.default)("Browser Alert"))),l.createElement("div",null,l.createElement("div",{className:"confirm-question"},(0,m.default)("Are you sure you want to delete this submission? This action cannot be reversed.")),l.createElement("div",{className:"horizontal-box align-items-absolute-center"},l.createElement("button",{className:"bt3-btn yes-button",onClick:this.handleRemoveGradeOverride},this.state.deleting?(0,m.default)("Deleting"):(0,m.default)("Yes")),l.createElement("button",{className:"bt3-btn",onClick:this.props.handleClose},(0,m.default)("No")))),this.state.deletionFailed&&l.createElement("div",{className:"horizontal-box align-items-absolute-center"},(0,m.default)("Can't delete now, please try again later"),"."))},AdminDeletionConfirmModal}(l.Component);module.exports=h},XXrs:function(module,exports,e){},"Y08+":function(module,exports,e){var t=e("HnmP"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var i={transform:void 0},a=e("aET+")(t,i);t.locals&&(module.exports=t.locals)},YeA8:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("iCc5")),i,a=_interopRequireDefault(e("FYw3")),n,s=_interopRequireDefault(e("mRg0")),o,l,u,d=_interopRequireDefault(e("sbe7")),c,m=_interopRequireDefault(e("CQyo")),p,f=_interopRequireDefault(e("AMJS"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}e("ya0v");var v=(l=o=function(e){function AdminViewGradeOverrideModal(){return(0,r.default)(this,AdminViewGradeOverrideModal),(0,a.default)(this,e.apply(this,arguments))}return(0,s.default)(AdminViewGradeOverrideModal,e),AdminViewGradeOverrideModal.prototype.render=function render(){return d.default.createElement(m.default,{className:"rc-AdminViewGradeOverrideModal",allowClose:!0,modalName:"AdminViewGradeOverrideModal",type:"box",handleClose:this.props.handleClose},d.default.createElement(f.default,{gradeOverrideDataState:this.props.gradeOverrideDataState,gradeOverride:this.props.gradeOverride,submitOverride:this.props.submitOverride,removeOverride:this.props.removeOverride}))},AdminViewGradeOverrideModal}(d.default.Component),o.propTypes={handleClose:d.default.PropTypes.func,gradeOverrideDataState:d.default.PropTypes.string.isRequired,gradeOverride:d.default.PropTypes.object,submitOverride:d.default.PropTypes.func,removeOverride:d.default.PropTypes.func},l);module.exports=v},YhZP:function(module,exports,e){"use strict";var t,r=_interopRequireWildcard(e("sbe7"));function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var i=function AssignmentSuccessMessage(e){var t=e.children;return r.createElement("div",{className:"rc-AssignmentSuccessMessage horizontal-box flex-1 bgcolor-success-light color-success-dark",style:{margin:"12px 0px",padding:16}},t)};module.exports=i},b3MV:function(module,exports,e){var t=e("6uSU"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var i={transform:void 0},a=e("aET+")(t,i);t.locals&&(module.exports=t.locals)},bnPc:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("iCc5")),i,a=_interopRequireDefault(e("FYw3")),n,s=_interopRequireDefault(e("mRg0")),o=e("C+yd"),l,u=_interopRequireWildcard(e("sbe7")),d,c=_interopRequireDefault(e("UZuA")),m,p=_interopRequireDefault(e("YhZP")),f,v=_interopRequireDefault(e("0/FW")),b,h=_interopRequireDefault(e("BDnG")),g,S=_interopRequireDefault(e("Fp6O")),R,w=_interopRequireDefault(e("s9jG")),P,E=_interopRequireDefault(e("sQ/U")),y,D=_interopRequireDefault(e("D1gF")),I,O=_interopRequireDefault(e("iZMp")),q,x=_interopRequireDefault(e("LzTH")),N,A=_interopRequireDefault(e("3v1K")),M,C=_interopRequireDefault(e("yhVA"));function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var T=function(e){function PeerPublicSubmissionView(){var t,i,n;(0,r.default)(this,PeerPublicSubmissionView);for(var s=arguments.length,l=Array(s),d=0;d<s;d++)l[d]=arguments[d];return t=i=(0,a.default)(this,e.call.apply(e,[this].concat(l))),i.renderFormParts=function(e){var t=i.props,r=t.reviewSubmissionState,a=t.isAdminMode,n=t.computedItem,s=t.submission,l=r.backboneReviewSchema,d=r.review,c;if(0===l.getPartsForSubmissionSchemaPart(e).length)return null;return i.showDisplayPartsOnly()?u.createElement(S.default,{reviewSchema:l,reviews:i.getReviews(),submissionSchemaPartId:e,submissionId:s.id}):null!=d?u.createElement(h.default,{disabled:i.isFormDisabled(),reviewSchema:l,review:d.parts,submissionSchemaPartId:e,onChange:i.props.onReviewChange,isMentorGraded:(0,o.getIsMentorGraded)(n)||a,submissionId:s.id,reviewValidationErrors:r.reviewValidationErrors}):null},i.renderAdminMessage=function(){var e=i.props,t=e.courseId,r=e.isAdminMode,a=e.computedItem,n=e.submission,s=e.isDeleted,o=e.creatorProfile;return r?u.createElement(A.default,{courseId:t,computedItem:a,submissionId:n.id,isDeleted:s,learnerId:o.userId}):u.createElement("noscript",null)},n=t,(0,a.default)(i,n)}return(0,s.default)(PeerPublicSubmissionView,e),PeerPublicSubmissionView.prototype.getReviews=function getReviews(){var e=this.props,t=e.isAdminMode,r,i=e.reviewSubmissionState.backboneReviews;if(t)return i;return[]},PeerPublicSubmissionView.prototype.showDisplayPartsOnly=function showDisplayPartsOnly(){var e=this.props.creatorProfile.userId;return this.props.isAdminMode||e===E.default.get().id},PeerPublicSubmissionView.prototype.isFormDisabled=function isFormDisabled(){var e=this.props.reviewSubmissionState.submitState;return"submitting"===e||"submitted"===e},PeerPublicSubmissionView.prototype.render=function render(){var e=this.props,t=e.computedItem,r=e.submission,i=e.reviewSubmissionState,a=e.isAdminMode,n=e.flaggedPreviousSubmission,s=e.isDeleted,o=e.creatorProfile,l=e.votes,d=e.courseId,m=e.naptimeSubmission,f=e.naptimeSubmissionSchema,b=e.onReviewSubmit;return u.createElement(c.default,{trackingName:"render",className:"rc-SubmittedSubmissionView",trackClicks:!1,requireFullyVisible:!1,data:{submission_id:r.id},withVisibilityTracking:!0},this.renderAdminMessage(),n&&u.createElement(p.default,null,(0,C.default)("The previous submission was successfully flagged. You can review a different submission below.")),u.createElement(x.default,{isAdminMode:a,computedItem:t,submission:r,creatorProfile:o,votes:l}),u.createElement(O.default,{submission:m,submissionSchema:f,renderInlineNode:this.renderFormParts}),!this.showDisplayPartsOnly()&&u.createElement(w.default,{disabled:this.isFormDisabled(),errorType:i.errorType||"none",reviewEditable:"submitted"!==i.submitState,onSubmit:b}),null!=r.id&&!s&&u.createElement(v.default,{computedItem:t,courseId:d,submissionId:r.id}))},PeerPublicSubmissionView}(u.Component);module.exports=T},cBJM:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("iCc5")),i,a=_interopRequireDefault(e("FYw3")),n,s=_interopRequireDefault(e("mRg0")),o,l,u,d=_interopRequireWildcard(e("sbe7")),c,m=_interopRequireDefault(e("w/1P")),p,f=_interopRequireDefault(e("VYij")),v=e("kvW3"),b,h=_interopRequireDefault(e("CQyo")),g,S=_interopRequireDefault(e("eJW0"));function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}e("0Lal");var R=[{value:"incompleteSubmission",label:(0,S.default)("The submission is incomplete")},{value:"inappropriateContent",label:(0,S.default)("The submission contains inappropriate content")},{value:"plagiarism",label:(0,S.default)("The submission contains plagiarized content")},{value:"other",label:(0,S.default)("Other (please provide details below)")}],w=(l=o=function(e){function SubmissionFlaggerModal(t,i){(0,r.default)(this,SubmissionFlaggerModal);var n=(0,a.default)(this,e.call(this,t,i));return n.onEvidenceChange=function(e){e.target instanceof HTMLTextAreaElement&&n.setState({evidence:e.target.value})},n.onReasonChange=function(e){if(e.target instanceof HTMLSelectElement){var t=e.target.value,r=(0,f.default)(R).find(function(e){return e.value===t});r&&n.setState({selectedReason:r.value})}},n.onSendReportButtonClick=function(e){e.preventDefault(),n.props.onReportSubmission({reason:n.state.selectedReason,evidence:n.state.evidence})},n.state={selectedReason:t.defaultReason,evidence:""},n}return(0,s.default)(SubmissionFlaggerModal,e),SubmissionFlaggerModal.prototype.render=function render(){var e=this.state.selectedReason,t=this.props,r=t.reasons,i=t.error,a=t.flagSubmissionState,n=(0,m.default)("bt3-btn bt3-btn-warning c-modal-action-button",{"bt3-disabled":"flagging"===a});return d.createElement(h.default,{modalName:"SubmissionFlaggerModal",handleClose:this.props.onClose},d.createElement("div",{className:"rc-SubmissionFlaggerModal"},d.createElement("h3",{className:"c-modal-title subtitle"},(0,S.default)("Flag this submission")),d.createElement("div",null,i&&i.responseJSON&&d.createElement("div",null,d.createElement("p",null,d.createElement(v.FormattedMessage,{message:(0,S.default)("An error occurred submitting your report: #{errorMessage}"),errorMessage:i.responseJSON}))),d.createElement("div",null,d.createElement("form",null,d.createElement("div",{className:"field-container"},d.createElement("label",{htmlFor:"reason-selection"},(0,S.default)("Select a reason:")),d.createElement("select",{id:"reason-selection",className:"field",disabled:"flagging"===a,value:e,onChange:this.onReasonChange},r.map(function(e){return d.createElement("option",{key:e.value,value:e.value},e.label)}))),d.createElement("div",{className:"field-container"},d.createElement("label",{htmlFor:"reason-field"},(0,S.default)("Please explain or provide evidence below:")),d.createElement("textarea",{id:"reason-field",onChange:this.onEvidenceChange,className:"field",disabled:"flagging"===a})),d.createElement("div",{className:"c-modal-action-bar"},"flagging"===a&&d.createElement("span",null,(0,S.default)("Submitting report...")),d.createElement("button",{className:n,onClick:this.onSendReportButtonClick},(0,S.default)("Send report"))))))))},SubmissionFlaggerModal}(d.Component),o.propTypes={error:d.PropTypes.object,onClose:d.PropTypes.func.isRequired,onReportSubmission:d.PropTypes.func.isRequired,defaultReason:d.PropTypes.string.isRequired,reasons:d.PropTypes.arrayOf(d.PropTypes.object).isRequired,flagSubmissionState:d.PropTypes.string.isRequired},o.defaultProps={defaultReason:"incompleteSubmission",reasons:R},l);module.exports=w},gvD1:function(module,exports,e){var t=e("K/Ms"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var i={transform:void 0},a=e("aET+")(t,i);t.locals&&(module.exports=t.locals)},lvQJ:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("wiyT")),i,a;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var n=(0,_interopRequireDefault(e("DnuM")).default)("/api/onDemandPeerAuthoredReviews.v1",{type:"rest"});exports.createReview=function(e,t,i,a){return(0,r.default)(n.post("",{data:{peerSubmissionId:e+"~"+t+"~"+i,review:a}}))}},s9jG:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("iCc5")),i,a=_interopRequireDefault(e("FYw3")),n,s=_interopRequireDefault(e("mRg0")),o,l;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var u=e("sbe7"),d=e("wO3E"),c=e("7PCW"),m,p=e("4R3V").PeerAdminCapabilities,f=e("37kS");e("0UBe");var v=function FormError(e){var t;switch(e.errorType){case"invalid-review":return u.createElement("span",null,f("You must fill in all the fields above."));case"review-exists":return u.createElement("span",null,f('\n            You have already reviewed this submission. Click the "Review classmates" tab to get another\n            submission.\n          '));case"unknown":return u.createElement("span",null,f("Error submitting. Please try again."));default:return u.createElement("noscript",null)}},b=(l=o=function(e){function FormSubmit(){return(0,r.default)(this,FormSubmit),(0,a.default)(this,e.apply(this,arguments))}return(0,s.default)(FormSubmit,e),FormSubmit.prototype.render=function render(){if(!this.props.reviewEditable)return null;var e=u.createElement("div",{className:"rc-FormSubmit"},u.createElement("div",null,u.createElement(d,{className:"primary",onClick:this.props.onSubmit,disabled:this.props.disabled,trackingName:"submit"},f("Submit Review"))),u.createElement("div",null,u.createElement(v,{errorType:this.props.errorType})));return this.props.isMentorGraded?u.createElement(c,{requestedCapability:p.reviewMentorGraded},e):e},FormSubmit}(u.Component),o.propTypes={errorType:u.PropTypes.oneOf(["none","invalid-review","unknown"]).isRequired,disabled:u.PropTypes.bool.isRequired,reviewEditable:u.PropTypes.bool.isRequired,onSubmit:u.PropTypes.func.isRequired,isMentorGraded:u.PropTypes.bool},l);module.exports=b},sMNq:function(module,exports,e){"use strict";var t=e("wiyT"),r=e("DnuM"),i=e("PDuk"),a=r("",{type:"rest"}),n="/api/onDemandCourseGradeItemOutcomeOverrides.v1/";module.exports={getOverride:function getOverride(e){var r=i.tupleToStringKey([e.learnerId.toString(),e.courseId,e.itemId]),s,o=n+r+"?fields=grade,isPassed,explanation,userPublicProfiles.v1(fullName)&includes=publicProfiles";return t(a.get(o))},updateOverride:function updateOverride(e){var r=i.tupleToStringKey([e.learnerId.toString(),e.courseId,e.itemId]),s=n+r;return t(a.put(s,{data:{grade:e.grade,isPassed:e.isPassed,explanation:e.explanation}}))},removeOverride:function removeOverride(e){var r=i.tupleToStringKey([e.learnerId.toString(),e.courseId,e.itemId]),s=n+r;return t(a.delete(s))}}},tapA:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("iCc5")),i,a=_interopRequireDefault(e("FYw3")),n,s=_interopRequireDefault(e("mRg0")),o,l,u,d=_interopRequireWildcard(e("sbe7")),c,m=_interopRequireDefault(e("y1LI")),p=e("kvW3"),f,v=_interopRequireDefault(e("wO3E")),b=e("nLAy"),h,g=_interopRequireDefault(e("yhVA"));function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}e("Y08+");var S=(l=o=function(e){function SubmissionLikeButton(){var t,i,n;(0,r.default)(this,SubmissionLikeButton);for(var s=arguments.length,o=Array(s),l=0;l<s;l++)o[l]=arguments[l];return t=i=(0,a.default)(this,e.call.apply(e,[this].concat(o))),i.toggleLike=function(){var e=i.props,t=e.computedItem.id,r=e.courseId,a=e.submissionId,n;e.votes.isUpvotedByUser?i.context.executeAction(b.unlikeSubmission,{itemId:t,courseId:r,submissionId:a}):i.context.executeAction(b.likeSubmission,{itemId:t,courseId:r,submissionId:a})},n=t,(0,a.default)(i,n)}return(0,s.default)(SubmissionLikeButton,e),SubmissionLikeButton.prototype.render=function render(){var e=this.props.votes,t=(0,g.default)("like"),r="heart-o";return e.upVotes>0&&(t=d.createElement(p.FormattedHTMLMessage,{message:(0,g.default)("{likeCount} {likeCount, plural, =1 {like} other {likes}}"),likeCount:e.upVotes})),e.isUpvotedByUser&&(r="heart"),d.createElement("div",{className:"rc-SubmissionLikeButton"},d.createElement(v.default,{className:"button-link",onClick:this.toggleLike,trackingName:"like",data:{unlike:e.isUpvotedByUser}},d.createElement("span",{className:"caption-text"},d.createElement(m.default,{name:r,className:"like-heart"}),t)))},SubmissionLikeButton}(d.Component),o.contextTypes={executeAction:d.PropTypes.func.isRequired},l);module.exports=S},xJs7:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("iCc5")),i,a=_interopRequireDefault(e("FYw3")),n,s=_interopRequireDefault(e("mRg0")),o,l,u,d=_interopRequireWildcard(e("sbe7")),c,m=_interopRequireDefault(e("yhVA")),p,f=_interopRequireDefault(e("Akn8")),v,b=_interopRequireDefault(e("7PCW")),h=e("4R3V");function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var g=(l=o=function(e){function ViewAsAdminButton(){return(0,r.default)(this,ViewAsAdminButton),(0,a.default)(this,e.apply(this,arguments))}return(0,s.default)(ViewAsAdminButton,e),ViewAsAdminButton.prototype.render=function render(){return d.createElement(b.default,{requestedCapability:h.PeerAdminCapabilities.doAdministrativeAction},d.createElement("a",{href:this.context.router.location.pathname.indexOf("/review/")>-1?f.default.join(this.props.submissionId,"admin"):f.default.join("review",this.props.submissionId,"admin"),className:"link-button primary"},(0,m.default)("View as Admin")))},ViewAsAdminButton}(d.Component),o.propTypes={submissionId:d.PropTypes.string},o.contextTypes={router:d.PropTypes.object},l);module.exports=g},ya0v:function(module,exports,e){var t=e("8BDU"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var i={transform:void 0},a=e("aET+")(t,i);t.locals&&(module.exports=t.locals)}}]);
//# sourceMappingURL=22.89c39778a29578162e6b.js.map